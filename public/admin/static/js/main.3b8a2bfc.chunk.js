(this.webpackJsonpadminui=this.webpackJsonpadminui||[]).push([[0],{155:function(e,t,a){e.exports=a.p+"static/media/appicon.067a11f2.PNG"},177:function(e,t,a){e.exports=a(267)},182:function(e,t,a){},183:function(e,t,a){},267:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=(a(182),a(183),a(44)),i=a(14),s=a(312),m=a(313),u=a(269),p=a(329),d=a(314),f=a(328),h=a(316),E=a(317),b=a(50),g=a(63),v=a(111),y=a(78),w=a.n(y),j=a(119),x=a.n(j),N=a(105),O=a(62),k=a.n(O),C=a(56),A=a(110),T=a(122),S=a.n(T),D=null;function I(e){return L.apply(this,arguments)}function L(){return(L=Object(A.a)(k.a.mark((function e(t){var a,n,r,c,o=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:{},n=Object(C.a)({headers:{"Content-Type":"application/json"}},a),e.next=4,D.get(t,n);case 4:if(!((r=e.sent).status>=200&&r.status<300)){e.next=7;break}return e.abrupt("return",{data:r.data,status:r.status});case 7:throw(c=new Error(r.statusText)).response=r,c;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(A.a)(k.a.mark((function e(t,a){var n,r,c,o,l=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:{},r=Object(C.a)({headers:{"Content-Type":"application/json"}},n),e.next=4,D.put(t,a,r);case 4:if(!((c=e.sent).status>=200&&c.status<300)){e.next=7;break}return e.abrupt("return",{data:c.data,status:c.status});case 7:throw(o=new Error(c.statusText)).response=c,o;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){(D=S.a.create()).defaults.baseURL="http://shcm-project.xyz",D.defaults.timeout=1e4},R=function(e,t){return function(a){return I("api/user",{}).then((function(t){var n=t.data;n.success||(n=[]),a({type:"USERS",data:w()(n,"data",[])}),"function"===typeof e&&e(w()(n,"data",[]))})).catch((function(e){throw"function"===typeof t&&t(e),e}))}},U=function(e,t){return I("api/requests",{}).then((function(t){var a=t.data;a.success||(a=[]),"function"===typeof e&&e(w()(a,"data",[]))})).catch((function(e){throw"function"===typeof t&&t(e),e}))},F=a(155),W=a.n(F),z=a(7),B=a(311),P="#888888",H="#fff",M="100%",G="100%",J="auto",V="center",Y="none",$="flex",K="row",Q="underline",X=Object(B.a)((function(e){var t;return{root:{padding:e.spacing(0),height:"100vh",marginTop:"20px"},paper:{marginTop:e.spacing(0),display:$,flexDirection:K,alignItems:V,height:M},form:{width:G,marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},spaceTop:{marginTop:e.spacing(3)},linkItem:{color:P,textDecoration:Y,"&:hover":{textDecoration:Q}},staticLink:{color:H,textDecoration:Y,margin:e.spacing(0,1,1),"&:hover":{textDecoration:Q}},brandLogo:{alignItems:V,justifyContent:V,width:G,display:$,height:M},panelRight:Object(z.a)({width:"65%"},e.breakpoints.down("md"),{width:"100%"}),panelLeft:Object(z.a)({width:"35%"},e.breakpoints.down("md"),{width:"100%"}),authInnerForm:(t={textAlign:V,margin:J,width:"100%"},Object(z.a)(t,e.breakpoints.up("sm"),{width:"80%"}),Object(z.a)(t,e.breakpoints.up("lg"),{width:"70%"}),Object(z.a)(t,e.breakpoints.up("xl"),{width:"60%"}),t),table:{minWidth:650},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var Z=Object(b.b)((function(e){return{isAuth:e.isAuth}}),{authAction:function(){return function(e){return e({type:"AUTH",data:!0})}}})((function(e){var t=e.authAction,a=e.isAuth,n=Object(v.a)({username:Object(v.b)().required(),password:Object(v.b)().required("Password is required")}),c=X(),o=Object(N.b)().enqueueSnackbar;return a?r.a.createElement(i.a,{to:"dashboard"}):r.a.createElement(s.a,{component:"main",className:c.root},r.a.createElement(m.a,null),r.a.createElement(u.a,{className:c.paper,elevation:0},r.a.createElement(p.a,{height:"100%",p:3,display:{xs:"none",sm:"none",md:"flex"},className:c.panelLeft+" auth-left-panel",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement("div",{className:c.brandLogo},r.a.createElement("img",{className:"brand-logo",src:W.a,alt:""}),r.a.createElement("h1",{style:{fontSize:"70px"}},"SHCM"))),r.a.createElement(p.a,{height:"100%",py:5,px:{xs:3,sm:4,md:5,xl:10},display:"flex",alignItems:"center",className:c.panelRight+" auth-right-panel"},r.a.createElement("div",{className:c.authInnerForm},r.a.createElement(d.a,{className:"auth-title",component:"h1",variant:"h4",gutterBottom:!0},"Login"),r.a.createElement(d.a,{component:"p",variant:"subtitle2"},"Please login into admin account."),r.a.createElement(g.d,{validationSchema:n,initialValues:{username:"",password:""},onSubmit:function(e,a){var n=a.resetForm;a.setErrors;"admin"===e.username&&"admin"===e.password?(t(),n(),o("Login Successful!",{variant:"success"})):o("'Login Failed!",{variant:"error"})}},(function(){return r.a.createElement(g.c,{className:c.form,noValidate:!0,autoComplete:"off"},r.a.createElement(g.b,{name:"username",margin:"normal",as:f.a,label:"UserName",fullWidth:!0,id:"username",autoComplete:"username"}),r.a.createElement(g.a,{name:"username"},(function(e){return r.a.createElement("span",{className:"error"},e)})),r.a.createElement(g.b,{name:"password",margin:"normal",type:"password",as:f.a,label:"Password",fullWidth:!0,id:"password",autoComplete:"password"}),r.a.createElement(g.a,{name:"password"},(function(e){return r.a.createElement("span",{className:"error"},e)})),r.a.createElement(h.a,{container:!0,alignItems:"center",justify:"space-between",className:c.spaceTop},r.a.createElement(h.a,{item:!0},r.a.createElement(E.a,{size:"large",type:"submit",variant:"contained",color:"primary",className:c.submit},"Login"))))}))))))})),ee=a(22),te=a(322),ae=a(326),ne=a(325),re=a(321),ce=a(323),oe=a(324),le=a(318),ie=a(319),se=Object(B.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{float:"left",margin:"0 10px"},logout:{float:"right"},toolbar:{display:"flex",justifyContent:"space-between"},linkItem:{color:"#fff",textDecoration:"none","&:hover":{textDecoration:"underline"}},selected:{color:"red"}}}));function me(e){var t=e.selected,a=se();return r.a.createElement("div",{className:a.root},r.a.createElement(le.a,{position:"static"},r.a.createElement(ie.a,{className:a.toolbar},r.a.createElement("div",null,r.a.createElement(d.a,{variant:"h6",className:a.title},r.a.createElement(l.b,{className:"".concat(a.linkItem," ").concat("dashboard"===t?a.selected:""),to:"/dashboard"},"Home")),r.a.createElement(d.a,{variant:"h6",className:a.title},r.a.createElement(l.b,{className:"".concat(a.linkItem," ").concat("requests"===t?a.selected:""),to:"/requests"},"Requests"))),r.a.createElement(E.a,{onClick:function(){window.location="/"},color:"inherit",className:a.logout},"Logout"))))}var ue=a(125),pe=a.n(ue),de=a(320);var fe=function(e){var t=X(),a=e.detail,n=e.onCancel;return r.a.createElement(u.a,{component:"div",className:t.modalPaper+" modal"},r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement(d.a,{component:"h5",variant:"h6"},"".concat(a.user.first_name," ").concat(a.user.last_name))),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-content-child"},a.collection.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(d.a,null,e.date),r.a.createElement(d.a,null,e.weekDay)),e.tapCollection.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(p.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(d.a,null,"Tap in - ".concat(e.tap_in?pe()(e.tap_in).format("h:mm:ss A"):"")),r.a.createElement(d.a,null,"Tap out - ".concat(e.tap_out?pe()(e.tap_out).format("h:mm:ss A"):"TBA"))),e.reason&&r.a.createElement(d.a,null,"Reason: ".concat(e.reason)),r.a.createElement(de.a,null))})),r.a.createElement(p.a,{itemDivider:!0},r.a.createElement(d.a,null,e.workDuration)),r.a.createElement("div",{style:{height:"20px"}}))})))),r.a.createElement(p.a,{className:"modal-action",px:4,py:2,display:"flex",justifyContent:"flex-end"},r.a.createElement(E.a,{variant:"outlined",color:"primary",onClick:n},"Cancel"))))};var he=Object(b.b)((function(e){return{users:e.users,isAuth:e.isAuth}}),{fetchTap:R})((function(e){var t=e.fetchTap,a=e.users,n=e.isAuth,c=X(),o=r.a.useState(!1),l=Object(ee.a)(o,2),p=l[0],d=l[1],f=r.a.useState({}),h=Object(ee.a)(f,2),E=h[0],b=h[1];r.a.useEffect((function(){x()(a)&&t()}),[]);var g=function(e){var t=e.currentTarget.attributes["data-id"].value;!function(e,t,a){I("".concat("api/tap","/").concat(e),{}).then((function(e){var a=e.data;a.success||(a=[]),"function"===typeof t&&t(w()(a,"data",[]))})).catch((function(e){throw"function"===typeof a&&a(e),e}))}(t,(function(e){var n;b({user:a.find((function(e){return e.id.toString()===t})),collection:(n=e,n.map((function(e){return e[Object.keys(e)[0]]})).map((function(e){return Object(C.a)(Object(C.a)({},e),{},{tapCollection:Array.isArray(e.tapCollection)?e.tapCollection:Object.keys(e.tapCollection).map((function(t){return e.tapCollection[t]}))})})))}),d(!0)}))};return p?r.a.createElement(fe,{detail:E,onCancel:function(){b({}),d(!1)}}):n?r.a.createElement(s.a,{component:"main",className:c.root},r.a.createElement(m.a,null),r.a.createElement(u.a,{elevation:0},r.a.createElement(me,{selected:"dashboard"}),r.a.createElement(re.a,{component:u.a},r.a.createElement(te.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(ce.a,null,r.a.createElement(oe.a,null,r.a.createElement(ne.a,{align:"center"},"Name"),r.a.createElement(ne.a,{align:"center"},"Email"),r.a.createElement(ne.a,{align:"center"},"Active"))),r.a.createElement(ae.a,null,a.map((function(e){return r.a.createElement(oe.a,{key:e.id,"data-id":e.id,hover:!0,onClick:g},r.a.createElement(ne.a,{align:"center",component:"th",scope:"row"},"".concat(e.first_name," ").concat(e.last_name)),r.a.createElement(ne.a,{align:"center"},e.email),r.a.createElement(ne.a,{align:"center"},1===e.active?"Yes":"No"))}))))))):r.a.createElement(i.a,{to:"/"})})),Ee=a(330),be=a(327),ge=a(157),ve=a.n(ge);var ye=Object(b.b)((function(e){return{isAuth:e.isAuth}}),{updateUser:function(e,t,a){return function(n){return function(e,t){return q.apply(this,arguments)}("".concat("api/user","/").concat(e),{active:1}).then((function(){R()(n),"function"===typeof t&&t()})).catch((function(e){throw"function"===typeof a&&a(e),e}))}}})((function(e){var t=e.updateUser,a=e.isAuth,c=X(),o=Object(n.useState)([]),l=Object(ee.a)(o,2),p=l[0],d=l[1];Object(n.useEffect)((function(){U((function(e){d(e)}))}),[]);var f=function(e){var a=e.currentTarget.id;t(a,(function(){U((function(e){d(e)}))}))};return a?r.a.createElement(s.a,{component:"main",className:c.root},r.a.createElement(m.a,null),r.a.createElement(u.a,{elevation:0},r.a.createElement(me,{selected:"requests"}),r.a.createElement(re.a,{component:u.a},r.a.createElement(te.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(ce.a,null,r.a.createElement(oe.a,null,r.a.createElement(ne.a,{align:"center"},"FirstName"),r.a.createElement(ne.a,{align:"center"},"LastName"),r.a.createElement(ne.a,{align:"center"},"Email"),r.a.createElement(ne.a,{align:"center"},"Action"))),r.a.createElement(ae.a,null,p.map((function(e){return r.a.createElement(oe.a,{key:e.name},r.a.createElement(ne.a,{align:"center",component:"th",scope:"row"},e.first_name),r.a.createElement(ne.a,{align:"center"},e.last_name),r.a.createElement(ne.a,{align:"center"},e.email),r.a.createElement(ne.a,{align:"center"},function(e){return r.a.createElement(Ee.a,{title:"Accept"},r.a.createElement(be.a,{onClick:f,"aria-label":"Accept",id:e.id},r.a.createElement(ve.a,{fontSize:"small",color:"primary"})))}(e)))}))))))):r.a.createElement(i.a,{to:"/"})}));function we(){return r.a.createElement(l.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(Z,null)),r.a.createElement(i.b,{path:"/login"},r.a.createElement(Z,null)),r.a.createElement(i.b,{path:"/dashboard"},r.a.createElement(he,null)),r.a.createElement(i.b,{path:"/requests"},r.a.createElement(ye,null))))}_();var je=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(we,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe,Ne=a(45),Oe=a(158),ke=a(159),Ce=Object(Ne.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"USERS"===t.type?t.data:e},isAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"AUTH"===t.type?t.data:e}}),Ae=a(262).default;xe=Object(Oe.composeWithDevTools)(Object(Ne.applyMiddleware)(ke.a,Ae()));var Te=Object(Ne.createStore)(Ce,{},xe);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N.a,{maxSnack:5,anchorOrigin:{horizontal:"right",vertical:"bottom"},preventDuplicate:!0},r.a.createElement(b.a,{store:Te},r.a.createElement(je,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[177,1,2]]]);
//# sourceMappingURL=main.3b8a2bfc.chunk.js.map